# DEMUX_BCL2FQ
- Wrapping Illumina's bcl2fastq (version 2.20.0.422) execution commands with user supplied values.
- bcl2fastq's thread management is currently set to 10 read/write threads and a calculated value for processing threads
  - Currently (nproc -5)
- A submission script is used to format for submission to an HPC cluster
  - Assumes that you are reserving all slots for the choosen servers in a queue
  - An email will be sent to the notifications alias when submission occurs and once the qsub process completes
- Execution must occur on one of the HPC headnodes

# Command Line Arguments
- The submitter script currently accepts 4 command line arguments in the following order
  - The run folder name (e.g., 190114_A00527_0033_BH3WNYDRXX)
  - The full qualified linux format path to the sample sheet including the file name
    - /mnt/path/to/a/samplesheet.csv
  - A queue to use (e.g., c6420.q or rhel7.q...)
    - Currently only one queue is allowed
  - The max number of slots assigned to the machines in the queue
    - An easy way to figure this out is to use a qstat command and look for the available slot values
      - **Use Exactly this value DON'T USE MORE OR LESS as it could allow resource allocation issues.** 

# Example Execution Commands

`/mnt/research/tools/LINUX/DEMUX_BCL2FQ/SUBMITTER.BCL2FQ.sh RUN_FOLDER_NAME /PATH/TO/SampleSheetName.csv myBig.q 21 | bash`

`/mnt/research/tools/LINUX/DEMUX_BCL2FQ/SUBMITTER.BCL2FQ.sh RUN_FOLDER_NAME /PATH/TO/SampleSheetName.csv aRhel7.q 10 | bash`

`/mnt/research/tools/LINUX/DEMUX_BCL2FQ/SUBMITTER.BCL2FQ.sh RUN_FOLDER_NAME /PATH/TO/SampleSheetName.csv mySmall.q 5 | bash`

- Note the pipe to bash at the end of the command for execute the qsub command generated by the submitter script
